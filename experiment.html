<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>jump</title>
        <link rel="stylesheet" type="text/css"  href="C:\Users\pubko\Documents\GitHub\new-website\stylesheet.css">
    </head>
    <body>
        <h1>Title</h1>
        <ul class="menu">
            <li><a href="C:\Users\pubko\Documents\GitHub\new-website\main.html">main</a></li>
            <li><a href="C:\Users\pubko\Documents\GitHub\new-website\shooting game.html">game</a></li>
            <li><a href="mailto:no-reply@accounts.google.com">mail</a></li>
            <li><a href="https://en.wikipedia.org/wiki/Blog">blog</a></li>
            <li><a href="https://www.youtube.com/watch?v=dQw4w9WgXcQ">video</a></li>
        </ul>
        <div class="main">
            <h2>Platformer</h2>
            <p>A mobile game for fun. Enjoy!</p>
            <canvas id="canvas" width="400px" height="400px" style="background-color: #123;" onpointerdown="move(event)"></canvas>
        </div>
        <script>
            var c = document.getElementById("canvas");
            var ctx = c.getContext("2d")
            var player = {
                x: 50,
                y: 300,
                a: {x: 0, y: 0.01},
                v: {x: 0, y: 0},
            }
            var bounce = 1/2
            function platform(x, y, w, h) {
                ctx.fillStyle = "#246"
                ctx.fillRect(x, y, w, h)
                var collision = x+w>=player.x && x<=player.x+20 && y+h>=player.y && y<=player.y+20
                if(collision && player.y <= y-15){
                    player.v.x *= bounce
                    player.v.y = -bounce*Math.abs(player.v.y)
                }//up
                if(collision && player.y >= y+h-5){
                    player.v.y = bounce*Math.abs(player.v.y)
                }//down
                if(collision && player.x+15 <= x){
                    player.v.x = -bounce*Math.abs(player.v.x)
                }//left
                if(collision && player.x >= x+w-5){
                    player.v.x = bounce*Math.abs(player.v.x)
                }//right
            }
            function inGame() {
                ctx.clearRect(0, 0, c.width, c.height)

                platform(200, 200, 50, 50)
                platform(0, 350, 150, 10)

                player.x += player.v.x;
                player.v.x += player.a.x;
                player.y += player.v.y;
                player.v.y += player.a.y;
                ctx.fillStyle = "#26A"
                ctx.fillRect(player.x, player.y, 20, 20)
                
            }
            function move(event) {
                player.v.x  = (event.x - 150 - player.x)/100
                player.v.y  = (event.y - 200 - player.y)/100
            }
            window.setInterval(inGame, 1)
        </script>
    </body>
</html>